\doxysection{App\textbackslash{}Controller\textbackslash{}Technicien\+Controller Class Reference}
\hypertarget{classApp_1_1Controller_1_1TechnicienController}{}\label{classApp_1_1Controller_1_1TechnicienController}\index{App\textbackslash{}Controller\textbackslash{}TechnicienController@{App\textbackslash{}Controller\textbackslash{}TechnicienController}}
Inheritance diagram for App\textbackslash{}Controller\textbackslash{}Technicien\+Controller\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classApp_1_1Controller_1_1TechnicienController}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classApp_1_1Controller_1_1TechnicienController_a6be99b3a8a49693281069ffae0d8efd3}{index}} (Experimentation\+Repository \$repository)
\item 
\mbox{\hyperlink{classApp_1_1Controller_1_1TechnicienController_acb01c0a158a90eb99247e375d03cf7b9}{gestion\+\_\+sa}} (Request \$request, SARepository \$sa\+Repository)
\item 
\mbox{\hyperlink{classApp_1_1Controller_1_1TechnicienController_ad32af7a96663228791d84cc7b4baae70}{modifier}} (Request \$request, User\+Repository \$repository, Entity\+Manager\+Interface \$manager, User\+Password\+Hasher\+Interface \$hasher)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Contrôleur pour gérer les actions liées aux techniciens. 

Definition at line \mbox{\hyperlink{TechnicienController_8php_source_l00024}{24}} of file \mbox{\hyperlink{TechnicienController_8php_source}{Technicien\+Controller.\+php}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{classApp_1_1Controller_1_1TechnicienController_acb01c0a158a90eb99247e375d03cf7b9}\label{classApp_1_1Controller_1_1TechnicienController_acb01c0a158a90eb99247e375d03cf7b9} 
\index{App\textbackslash{}Controller\textbackslash{}TechnicienController@{App\textbackslash{}Controller\textbackslash{}TechnicienController}!gestion\_sa@{gestion\_sa}}
\index{gestion\_sa@{gestion\_sa}!App\textbackslash{}Controller\textbackslash{}TechnicienController@{App\textbackslash{}Controller\textbackslash{}TechnicienController}}
\doxysubsubsection{\texorpdfstring{gestion\_sa()}{gestion\_sa()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controller\textbackslash{}\+Technicien\+Controller\+::gestion\+\_\+sa (\begin{DoxyParamCaption}\item[{Request}]{\$request,  }\item[{SARepository}]{\$sa\+Repository }\end{DoxyParamCaption})}

Gère la page de gestion des systèmes d\textquotesingle{}acquisition (SA) pour le technicien. 
\begin{DoxyParams}[1]{Parameters}
Request & {\em \$request} & Requête HTTP entrante. \\
\hline
SARepository & {\em \$sa\+Repository} & Repository pour les systèmes d\textquotesingle{}acquisition. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Response Réponse HTTP avec la vue de gestion des SA. @\+Route(\textquotesingle{}/technicien/gestion-\/sa\textquotesingle{}, name\+: \textquotesingle{}gestion\+\_\+sa\textquotesingle{}) 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{TechnicienController_8php_source_l00054}{54}} of file \mbox{\hyperlink{TechnicienController_8php_source}{Technicien\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ Response}
\DoxyCodeLine{00055\ \ \ \ \ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \$filtreSAForm\ =\ \$this-\/>createForm(FiltreSAFormType::class);}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \$filtreSAForm-\/>handleRequest(\$request);}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \$rechercheSAForm\ =\ \$this-\/>createForm(RechercheSAFormType::class);}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \$rechercheSAForm-\/>handleRequest(\$request);}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$filtreSAForm-\/>isSubmitted()\ \&\&\ \$filtreSAForm-\/>isValid())\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \$dataFiltre\ =\ \$filtreSAForm-\/>getData();}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Extraire\ les\ données\ et\ les\ utiliser\ pour\ filtrer\ les\ salles}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \$liste\_sa\ =\ \$saRepository-\/>filtrerSAGestionSA(}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$dataFiltre[\textcolor{stringliteral}{'etat'}]\ ??\ \textcolor{keyword}{null},}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$dataFiltre[\textcolor{stringliteral}{'localisation'}]\ ??\ \textcolor{keyword}{null},}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(empty(\$liste\_sa))\$this-\/>addFlash(\textcolor{stringliteral}{'error'},\ \textcolor{stringliteral}{"{}Votre\ recherche\ ne\ correspond\ ni\ a\ un\ système\ d'acquisition\ ni\ a\ une\ salle"{}});}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\$rechercheSAForm-\/>isSubmitted()\ \&\&\ \$rechercheSAForm-\/>isValid())\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \$dataRecherche\ =\ \$rechercheSAForm-\/>getData();}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Extraire\ les\ données\ et\ les\ utiliser\ pour\ rechercher\ les\ salles}}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \$liste\_sa\ =\ \$saRepository-\/>rechercheSA(\$dataRecherche[\textcolor{stringliteral}{'sa\_nom'}]);}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(empty(\$liste\_sa))\$this-\/>addFlash(\textcolor{stringliteral}{'error'},\ \textcolor{stringliteral}{"{}Votre\ recherche\ "{}}\ .\ \$dataRecherche[\textcolor{stringliteral}{'sa\_nom'}]\ .\ \textcolor{stringliteral}{"{}\ ne\ correspond\ ni\ a\ un\ système\ d'acquisition\ ni\ a\ une\ salle"{}});}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \$liste\_sa\ =\ \$saRepository-\/>toutLesSA();}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\$liste\_sa\ =\ \$saRepository-\/>trierSA(\$liste\_sa);}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Rend\ la\ vue\ avec\ la\ liste\ des\ expérimentations.}}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>render(\textcolor{stringliteral}{'technicien/gestion-\/sa.html.twig'},\ [}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'liste\_sa'}\ =>\ \$liste\_sa\ ,}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'rechercheSAForm'}\ =>\ \$rechercheSAForm-\/>createView()\ ,}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'filtreSAForm'}\ =>\ \$filtreSAForm-\/>createView(),}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{00086\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controller_1_1TechnicienController_a6be99b3a8a49693281069ffae0d8efd3}\label{classApp_1_1Controller_1_1TechnicienController_a6be99b3a8a49693281069ffae0d8efd3} 
\index{App\textbackslash{}Controller\textbackslash{}TechnicienController@{App\textbackslash{}Controller\textbackslash{}TechnicienController}!index@{index}}
\index{index@{index}!App\textbackslash{}Controller\textbackslash{}TechnicienController@{App\textbackslash{}Controller\textbackslash{}TechnicienController}}
\doxysubsubsection{\texorpdfstring{index()}{index()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controller\textbackslash{}\+Technicien\+Controller\+::index (\begin{DoxyParamCaption}\item[{Experimentation\+Repository}]{\$repository }\end{DoxyParamCaption})}

Affiche la liste des souhaits d\textquotesingle{}expérimentations pour le technicien. 
\begin{DoxyParams}[1]{Parameters}
Experimentation\+Repository & {\em \$repository} & Repository pour interagir avec les données d\textquotesingle{}expérimentation. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Response Réponse HTTP avec la vue de la liste des souhaits d\textquotesingle{}expérimentations. @\+Route(\textquotesingle{}/technicien/liste-\/souhaits\textquotesingle{}, name\+: \textquotesingle{}app\+\_\+technicien\textquotesingle{}) 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{TechnicienController_8php_source_l00033}{33}} of file \mbox{\hyperlink{TechnicienController_8php_source}{Technicien\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ Response}
\DoxyCodeLine{00034\ \ \ \ \ \{}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Récupère\ les\ expérimentations\ du\ repository.}}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \$experimentations\ =\ \$repository-\/>trouveExperimentationDemandeInstallation();}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \$experimentations\ =\ \$repository-\/>triExperimentation(\$experimentations);}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Rend\ la\ vue\ avec\ la\ liste\ des\ expérimentations.}}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>render(\textcolor{stringliteral}{'technicien/liste-\/souhaits.html.twig'},\ [}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'experimentations'}\ =>\ \$experimentations}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{00044\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classApp_1_1Controller_1_1TechnicienController_ad32af7a96663228791d84cc7b4baae70}\label{classApp_1_1Controller_1_1TechnicienController_ad32af7a96663228791d84cc7b4baae70} 
\index{App\textbackslash{}Controller\textbackslash{}TechnicienController@{App\textbackslash{}Controller\textbackslash{}TechnicienController}!modifier@{modifier}}
\index{modifier@{modifier}!App\textbackslash{}Controller\textbackslash{}TechnicienController@{App\textbackslash{}Controller\textbackslash{}TechnicienController}}
\doxysubsubsection{\texorpdfstring{modifier()}{modifier()}}
{\footnotesize\ttfamily App\textbackslash{}\+Controller\textbackslash{}\+Technicien\+Controller\+::modifier (\begin{DoxyParamCaption}\item[{Request}]{\$request,  }\item[{User\+Repository}]{\$repository,  }\item[{Entity\+Manager\+Interface}]{\$manager,  }\item[{User\+Password\+Hasher\+Interface}]{\$hasher }\end{DoxyParamCaption})}

Permet au technicien de modifier ses informations personnelles, notamment le mot de passe. 
\begin{DoxyParams}[1]{Parameters}
Request & {\em \$request} & Requête HTTP entrante. \\
\hline
User\+Repository & {\em \$repository} & Repository pour les utilisateurs. \\
\hline
Entity\+Manager\+Interface & {\em \$manager} & Gestionnaire d\textquotesingle{}entité pour la persistance des données. \\
\hline
User\+Password\+Hasher\+Interface & {\em \$hasher} & Interface pour le hachage de mot de passe. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Response Réponse HTTP avec la vue de modification des informations personnelles. @\+Route(\textquotesingle{}/technicien/modifier\textquotesingle{}, name\+: \textquotesingle{}app\+\_\+modifier\textquotesingle{}) 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{TechnicienController_8php_source_l00098}{98}} of file \mbox{\hyperlink{TechnicienController_8php_source}{Technicien\+Controller.\+php}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ Response}
\DoxyCodeLine{00099\ \ \ \ \ \{}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \$user\ =\ \$repository-\/>rechercheUser(\textcolor{stringliteral}{'technicien'});}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \$userForm\ =\ \$this-\/>createForm(UserType::class);}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \$userForm-\/>handleRequest(\$request);}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \$erreur\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$userForm-\/>isSubmitted()\ \&\&\ \$userForm-\/>isValid())\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \$data\ =\ \$userForm-\/>getData();}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\$data[\textcolor{stringliteral}{'PlainPassword'}]\ !=\ \$data[\textcolor{stringliteral}{'verif'}])\{}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>addFlash(\textcolor{stringliteral}{'error'},\ \textcolor{stringliteral}{"{}Vos\ nouveaux\ mots\ de\ passe\ ne\ correspondent\ pas\ entre\ eux.\ Veuillez\ réessayer."{}});}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(!\$hasher-\/>isPasswordValid(\$user,\$data[\textcolor{stringliteral}{'MDP'}]))\{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>addFlash(\textcolor{stringliteral}{'error'},\ \textcolor{stringliteral}{"{}mot\ de\ passe\ actuel\ incorrects"{}});}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(strlen(\$data[\textcolor{stringliteral}{'PlainPassword'}])\ <\ 8\ )}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$erreur\ =\ \textcolor{stringliteral}{"{}Le\ mot\ de\ passe\ doit\ contenir\ au\ moins\ 8\ caractère"{}};}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(preg\_match(\textcolor{stringliteral}{'/[a-\/z]/'},\ \$data[\textcolor{stringliteral}{'PlainPassword'}])\ !==\ 1)\{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$erreur\ =\ \textcolor{stringliteral}{"{}Le\ mot\ de\ passe\ doit\ contenir\ au\ moins\ une\ minuscule"{}};}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(preg\_match(\textcolor{stringliteral}{'/[A-\/Z]/'},\ \$data[\textcolor{stringliteral}{'PlainPassword'}])\ !==\ 1)\{}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$erreur\ =\ \textcolor{stringliteral}{"{}Le\ mot\ de\ passe\ doit\ contenir\ au\ moins\ une\ majuscule"{}};}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(preg\_match(\textcolor{stringliteral}{'/[\string^a-\/zA-\/Z0-\/9]/'},\ \$data[\textcolor{stringliteral}{'PlainPassword'}])\ !==\ 1)\{}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$erreur\ =\ \textcolor{stringliteral}{"{}Le\ mot\ de\ passe\ doit\ contenir\ au\ moins\ un\ un\ caractère\ spécial"{}};}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$user-\/>setPlainPassword(\$data[\textcolor{stringliteral}{'PlainPassword'}]);}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$manager-\/>persist(\$user);}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$manager-\/>flush();}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>addFlash(\textcolor{stringliteral}{'success'},\ \textcolor{stringliteral}{"{}mot\ de\ passe\ modifier\ !"{}});}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Rend\ la\ vue\ avec\ la\ liste\ des\ expérimentations.}}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>render(\textcolor{stringliteral}{'technicien/modifier.html.twig'},\ [}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'userForm'}\ =>\ \$userForm-\/>createView()\ ,}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'erreur'}\ =>\ \$erreur\ ,}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{00140\ \ \ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Technicien\+Controller.\+php\end{DoxyCompactItemize}
